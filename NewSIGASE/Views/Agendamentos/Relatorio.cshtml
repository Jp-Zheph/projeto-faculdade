@model IEnumerable<NewSIGASE.Dto.Response.AgendamentoRelatorioDto>

@{
    ViewData["Title"] = "Relatório";
}

<style>
    .table thead > tr > th {
        position: sticky;
        top: 0;
        vertical-align: middle;
    }

    .table td, .table th {
        vertical-align: middle;
    }

    .table thead > tr > th,
    .table tbody > tr > th,
    .table thead > tr > td,
    .table tbody > tr > td {
        white-space: nowrap;
    }

    .inputFiltro {
        padding-right: 0px !important;
    }

    .filtro {
        padding: 30px 0px 10px 0px;
    }

    .buttonFiltro {
        position: relative;
        transform: translateY(40%);
    }
</style>

<h3>Relatório de Agendamentos</h3>

<div class="filtro">
    <form asp-action="GerarRelatorio">
        <div class="row">
            <div class="form-group col-md-2 inputFiltro">
                <label class="control-label">Data Início</label>
                <input required type="date" id="DataInicio" name="DataInicio" class="form-control" value="@ViewBag.DataInicio" />
            </div>
            <div class="form-group col-md-2 inputFiltro">
                <label class="control-label">Data Fim</label>
                <input required type="date" id="DataFim" name="DataFim" class="form-control" value="@ViewBag.DataFim" />
            </div>
            <div class="form-group col-md-1 inputFiltro">
                <label class="control-label">Sala</label>
                <input type="text" id="Sala" name="Sala" class="form-control" placeholder="Sala" value="@ViewBag.Sala" />
            </div>
            <div class="form-group col-md-2 inputFiltro">
                <label class="control-label">Tipo Local</label>
                <select id="TipoLocal" name="TipoLocal" class="form-control" asp-items="@ViewBag.TipoLocal"></select>
            </div>
            <div class="form-group col-md-2 inputFiltro">
                <label class="control-label">Usuário</label>
                <input type="text" id="Usuario" name="Usuario" class="form-control" placeholder="Usuário" value="@ViewBag.Usuario" />
            </div>
            <div class="form-group col-md-2 inputFiltro">
                <label class="control-label">Perfil</label>
                <select id="PerfilUsuario" name="PerfilUsuario" class="form-control" asp-items="@ViewBag.Perfil"></select>
            </div>
            <div class="col-md-1 inputFiltro buttonFiltro">
                <button type="submit" class="btn btn-primary btn-sm">
                    <svg width="1em" height="1em" viewBox="0 0 16 16" class="bi bi-search" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
                        <path fill-rule="evenodd" d="M10.442 10.442a1 1 0 0 1 1.415 0l3.85 3.85a1 1 0 0 1-1.414 1.415l-3.85-3.85a1 1 0 0 1 0-1.415z" />
                        <path fill-rule="evenodd" d="M6.5 12a5.5 5.5 0 1 0 0-11 5.5 5.5 0 0 0 0 11zM13 6.5a6.5 6.5 0 1 1-13 0 6.5 6.5 0 0 1 13 0z" />
                    </svg>
                </button>
            </div>
        </div>
    </form>
</div>

<table class="table table-responsive table-striped">
    <thead>
        <tr>
            <th>
                @Html.DisplayName("Data Criação")
            </th>
            <th>
                @Html.DisplayName("Agendada Por")
            </th>
            <th>
                @Html.DisplayName("Matrícula")
            </th>
            <th>
                @Html.DisplayName("Email")
            </th>
            <th>
                @Html.DisplayName("Perfil")
            </th>
            <th>
                @Html.DisplayName("Data Agendada")
            </th>
            <th>
                @Html.DisplayName("Período")
            </th>
            <th>
                @Html.DisplayName("Sala")
            </th>
            <th>
                @Html.DisplayName("Tipo Local")
            </th>
            <th>
                @Html.DisplayName("Capacidade de Alunos")
            </th>
            <th>
                @Html.DisplayName("Quant de Equipamentos")
            </th>
            <th>
                @Html.DisplayName("Data Aprovação")
            </th>
            <th>
                @Html.DisplayName("Aprovada Por")
            </th>
            <th>
                @Html.DisplayName("Matrícula")
            </th>
            <th>
                @Html.DisplayName("Email")
            </th>
            <th>
                @Html.DisplayName("Perfil")
            </th>
            <th>
                @Html.DisplayName("Status")
            </th>
        </tr>
    </thead>
    <tbody>
        @foreach (var item in Model)
        {
            <tr>
                <td>
                    @Html.DisplayFor(modelItem => item.DataCriacao)
                </td>
                <td>
                    @Html.DisplayFor(modelItem => item.AgendadaPor)
                </td>
                <td>
                    @Html.DisplayFor(modelItem => item.MatriculaUsuario)
                </td>
                <td>
                    @Html.DisplayFor(modelItem => item.EmailUsuario)
                </td>
                <td>
                    @Html.DisplayFor(modelItem => item.PerfilUsuario)
                </td>
                <td>
                    @Html.DisplayFor(modelItem => item.DataAgendada)
                </td>
                <td>
                    @Html.DisplayFor(modelItem => item.Periodo)
                </td>
                <td>
                    @Html.DisplayFor(modelItem => item.Sala)
                </td>
                <td>
                    @Html.DisplayFor(modelItem => item.TipoSala)
                </td>
                <td>
                    @Html.DisplayFor(modelItem => item.CapacidadeAlunos)
                </td>
                <td>
                    @Html.DisplayFor(modelItem => item.QuantidadeEquipamentos)
                </td>
                <td>
                    @Html.DisplayFor(modelItem => item.DataAprovacao)
                </td>
                <td>
                    @Html.DisplayFor(modelItem => item.AprovadaPor)
                </td>
                <td>
                    @Html.DisplayFor(modelItem => item.MatriculaAprovador)
                </td>
                <td>
                    @Html.DisplayFor(modelItem => item.EmailAprovador)
                </td>
                <td>
                    @Html.DisplayFor(modelItem => item.PerfilAprovador)
                </td>
                <td>
                    @Html.DisplayFor(modelItem => item.Status)
                </td>
            </tr>
        }
    </tbody>
</table>

<hr />
